<html><head>
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<style>
		table {
			/*animation : an 3s 6;*/
			border: 2px solid #0ff;
		}

		td {
			text-shadow: 3px 2px 2px green;
			text-align: center;
			height: 70px;
			width: 70px;
			font-size: 60px;
			color: orange;
			border: 1px solid skyblue;
		}

		#board_id {
			margin: 10% 25%;
		}

		/*@keyframes an{
	from{
	background: orange;
	opacity:0.5;
	}
	to{
	background: skyblue:
	opacity:1;
	}
	}*/
	</style>
	<script src="minimax.js"></script>
	<script src="Tree.js"></script>
</head>

<body>
	<table id="board_id"><tbody><tr><td id="00" onclick="tic(this)"> </td><td id="01" onclick="tic(this)"> </td><td id="02" onclick="tic(this)"> </td></tr></tbody><tbody><tr><td id="10" onclick="tic(this)"> </td><td id="11" onclick="tic(this)"> </td><td id="12" onclick="tic(this)"> </td></tr></tbody><tbody><tr><td id="20" onclick="tic(this)"> </td><td id="21" onclick="tic(this)"> </td><td id="22" onclick="tic(this)"> </td></tr></tbody></table>
	<div id="k"></div>
	<script>
		// counts number of steps
		var steps = 0;

		/*
		board - board for tictactoe
		values 0,1 are for X and O respectively
		NOTE board[2][2] is not 1 for this reason
		*/
		var board = [[9, 8, 7], [6, 5, 4], [3, 2, 10]];
		(function () {
			var el = document.getElementById('board_id');
			for (var j = 0; j < 3; j++) {
				// id of a cell is <row#><col#>
				el.innerHTML += "<tr><td id='" + j + "0' onclick='tic(this)'> </td><td id='" + j + "1' onclick='tic(this)'> </td><td id='" + j + "2' onclick='tic(this)'> </td></tr>";
			}
		})();
		function tic(cell) {
			var row = cell.id.charAt(0);
			var col = cell.id.charAt(1);
			if (steps < 9 && board[row][col] > 1) {
				if (steps % 2 == 0) {
					cell.innerHTML = "X";
					board[row][col] = 0;
				} else {
					cell.innerHTML = "O";
					board[row][col] = 1;
				}
				steps++;
				var l = check();
				if (l >= 0 && l < 3) {
					if (steps % 2 == 0) {
						alert("O  won the game :)");
						steps = 9;
						return;
					} else if (steps % 2 == 1) {
						alert("X  won the game :)");
						steps = 9;
						return;
					}
				}
				if (steps > 8) {
					alert("Draw");
				}
			}
		}
		function check() {
			for (var j = 0; j < 3; j++) {
				if (board[j][0] == board[j][1] && board[j][1] == board[j][2]) {
					grn(j, '0', j, '1', j, '2');
					return 0;
				}
			}
			for (var j = 0; j < 3; j++) {
				if (board[0][j] == board[1][j] && board[1][j] == board[2][j]) {
					grn('0', j, '1', j, '2', j);
					return 1;
				}
			}
			if (board[1][1] == board[0][0] && board[1][1] == board[2][2]) {
				grn(0, 0, 1, 1, 2, 2);
				return 2;
			}
			if (board[1][1] == board[0][2] && board[1][1] == board[2][0]) {
				grn(1, 1, 0, 2, 2, 0);
				return 2;
			}
		}
		function grn(a1, b1, a2, b2, a3, b3) {
			document.getElementById(a1.toString() + b1).style.color = "green";
			document.getElementById(a2.toString() + b2).style.color = "green";
			document.getElementById(a3.toString() + b3).style.color = "green";
		}
	</script>

</body></html>